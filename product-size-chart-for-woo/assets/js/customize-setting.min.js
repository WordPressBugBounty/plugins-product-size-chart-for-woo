if(void 0===ViPscw)var ViPscw={};jQuery(document).ready((function(e){"use strict";let t=[];window.pscwGenerateID=()=>{let e=`ID_${Date.now()}`;return t.includes(e)?e=pscwGenerateID():t.push(e),e},e.fn.showsOn=function(t,s,i=!1){const a=e(this);return e(t).on("change",(function(){i?e(this).prop(s)?a.hide():a.show():a.toggle(e(this).val()===s)})),e(t).trigger("change"),this};VicPscwParams.imgUrl;const s=JSON.parse(VicPscwParams.interface),i=JSON.parse(VicPscwParams.assign_data),a=JSON.parse(VicPscwParams.assign_option),n=JSON.parse(VicPscwParams.assign_option_info),c=e.extend({title:VicPscwParams.scTitle},i),l=Object.assign({},s.layout),o=Object.assign({},s.elementsById),d=wp.customize,r=VicPscwParams.i18n;class p{constructor({label:e,id:t,type:s,value:i,choices:a,onClick:n,onChange:c,onInput:l,dependent:o}){this.label=e,this.id=t,this.type=s,this.value=i,this.choices=a,this.onClick=n,this.onChange=c,this.onInput=l,this.dependent=o}render(){let t=e(`<li id="customize-control-${this.id||""}" class="customize-control customize-control-text"></li>`);if(this.label){const s=e('<label for="" class="customize-control-title"></label>').text(this.label);t.append(s)}switch(this.value?.class_wrap&&t.addClass(this.value.class_wrap),this.type){case"input":t.append(this.createInput());break;case"inputNumber":t.append(this.createInput("number"));break;case"select":t.append(this.createSelect());break;case"button":t.append(this.createButton());break;case"colorPicker":let e=this.createColorPicker();t.append(e),e.wpColorPicker({change:this.onChange});break;case"checkbox":t.append(this.createCheckbox());break;case"rangeSlider":t.append(this.createRangeSlider());break;case"uploadImage":t.append(this.createUploadImage());break;case"layout":t.append(this.createLayout());break;case"textEditor":t.append(this.createTextEditor());break;case"toggleSection":t.append(this.createToggleSection());break;case"addItemTable":t.append(this.createAddItemTable());break;case"fourDimensional":t.append(this.createFourDimensional());break;case"radio":t.append(this.createRadio());break;case"templateColor":t.append(this.createTemplateColor());break;case"btnUpload":t.append(this.createBtnUpload());break;case"upgrade":t.append(this.createUpgrade());break;case"search":t.append(this.createSearch());break;default:throw new Error(r.unsupported_component_type)}return t}createUpgrade(){return VicPscwParams.upgrade_button}createSearch(){let t=e(`<select id="customize-input-${this.id||""}" multiple class="hidden" ></select>`);return this.value?.defaultValues?this.value.defaultValues.forEach((s=>{let i=this.value.assignValues.includes(s[0])?"selected":"",a=e(`<option value="${s[0]}" ${i}>${s[1]}</option>`);t.append(a)})):this?.value?.assignValues&&this.value.assignValues.length&&this.value.assignValues.forEach((s=>{if(n[s]){let i=e(`<option value="${s}" selected>${n[s]}</option>`);t.append(i)}})),this.value?.class_el&&t.addClass(this.value.class_el),this.value?.placeholder_select2&&t.attr("data-placeholder_select2",this.value.placeholder_select2),this.value?.type_select2&&t.attr("data-type_select2",this.value.type_select2),this.onChange&&t.on("change",this.onChange),t}createInput(t="text"){const s=e(`<input id="customize-input-${this.id||""}" type="${t}">`).val(this.value||"");return this.onInput&&s.on("input",this.onInput),this.onChange&&s.on("change",this.onChange),s}createSelect(){const t=e(`<select id="customize-input-${this.id||""}"></select>`);if("object"==typeof this.choices)for(const s in this.choices){let i=this.choices[s].includes("Premium")?"disabled":"",a=e(`<option value="${s}" ${s===this.value?"selected":""} ${i}>${this.choices[s]}</option>`);t.append(a)}return this.onChange&&t.on("change",this.onChange),t}createButton(){const t=e(`<button type="button" id="${this.id?"customize-button-"+this.id:""}">${this.value||""}</button>`);return this.onClick&&t.on("click",this.onClick),t}createColorPicker(){return e(`<input id="${this.id?"customize-color-picker-"+this.id:""}" class="color-picker-hex wp-color-picker" type="text" maxlength="7" placeholder="#ffffff" data-default-color="${this.value}" value="${this.value}">`)}createCheckbox(){const t=e(`<label for="${this.id?"customize-input-"+this.id:""}" class="pscw-toggle-checkbox"></label>`),s=e(`<input type="checkbox" name="${this.id||""}" id="${this.id?"customize-input-"+this.id:""}" value="check" ${this.value?"checked":""}>`);return this.onChange&&s.on("change",this.onChange),t.append(s),t.append(e("<span></span>")),t}createRangeSlider(){const t=e('<div class="pscw-customize-range"></div>'),s=e('<div class="vi-ui range pscw-customize-range1"></div>'),i=e(`<input type="number" class="pscw-customize-range-value" value="${this?.value?.data?.start||0}">`),a=e('<div class="pscw-custom-select"></div>'),n=e('<select name="" class="pscw-customize-unit"></select>');if(this?.value?.unit){let t=this?.value?.unit;for(const s in t){let i=e(`<option value="${s}" data-value="[${t[s]?.min},${t[s]?.step},${t[s]?.max}]" ${s===this.value?.data?.unit?"selected":""}>${t[s]?.name}</option>`);n.append(i)}}return a.append(n),t.append(s),t.append(i),t.append(a),t}createUploadImage(){const t=e(`<div class="pscw-customize-upload" id="${this.id||""}"></div>`),{src:s,alt:i}=this.value;return t.append(`<a href="javascript:void(0)" class="pscw-customize-image-wrap ${s?"remove":""}">\n                <img src="${s||""}" alt="${i||""}" class="pscw-customize-image">\n                <span class="pscw-customize-image-remove">&#x2715;</span>\n                </a>\n                <div>\n                <span class="customize-control-title">URL</span>\n                <input type="text" class="pscw-customize-image-url" value="${s||""}">\n                </div>\n                <div>\n                <span class="customize-control-title">Alt</span>\n                <input type="text" class="pscw-customize-image-alt" value="${i||""}">\n                </div>`),t}createLayout(t){let s=[],i={};t?(s=t.children,i=t.elementsById):(s=this.value.children,i=this.value.elementsById);let a=[];for(const e of s)a.push(this.renderLayoutItem(e,i));return e(`<div class="pscw-customize-layout">\n                                    <div class="pscw-customize-container">\n                                        ${a.join("")}\n                                    </div>\n                                    <span class="customize-control-title">${r.click_items_below}</span>\n                                    <div class="pscw-customize-row-list">\n                                    <div class="pscw-customize-row-list-one pscw-customize-row-list-cols" data-cols="12">\n                                    <div></div>\n                                    </div>\n                                    <div class="pscw-customize-row-list-two pscw-upgrade-row-list-cols">\n                                    ${VicPscwParams.upgrade_button}\n                                    <div></div>\n                                    <div></div>\n                                    </div>\n                                    <div class="pscw-customize-row-list-three pscw-upgrade-row-list-cols">\n                                    ${VicPscwParams.upgrade_button}\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                    </div>\n                                    <div class="pscw-customize-row-list-four pscw-upgrade-row-list-cols">\n                                    ${VicPscwParams.upgrade_button}\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                    </div>\n                                    <div class="pscw-customize-row-list-five pscw-upgrade-row-list-cols">\n                                    ${VicPscwParams.upgrade_button}\n                                    <div></div>\n                                    <div></div>\n                                    </div>\n                                    <div class="pscw-customize-row-list-six pscw-upgrade-row-list-cols">\n                                    ${VicPscwParams.upgrade_button}\n                                    <div></div>\n                                    <div></div>\n                                    </div>\n                                    </div>\n                                   `)}createTextEditor(){return e(`<textarea id="${this.id}" style="width: 100%;">${this.value}</textarea>`)}createToggleSection(){let t=e(`<div class="pscw-customize-toggle-section" id="${this.id||""}">\n                            <div class="pscw-customize-toggle-section-list-wrap">\n                                <a href="javascript:void(0)" class="pscw-customize-add-toggle-section">&#65291; ${r.new_item}</a>\n                                <div class="pscw-customize-toggle-section-list">\n                                </div>\n                               <div class="pscw-customize-toggle-section-tab-list">                               \n                               </div>\n                            </div>\n                        </div>`),s=0;for(const i of this.value.children){let a=e(`<div class="pscw-customize-toggle-section-item ${0===s?"active":""}" id="${i.id}">\n                                        <span class="pscw-customize-toggle-section-item-title">${i.title}</span>\n                                        <span class="pscw-customize-toggle-section-item-remove">&#x2715;</span></div>`);t.find(".pscw-customize-toggle-section-list").append(a),s++}return t}createAddItemTable(){let t=e('<div class="pscw-customize-add-item-table"></div>'),s=e('<div class="pscw-customize-add-item-table-button pscw-customize-add-item-table-action__add">&#x2B;</div>'),i=e('<div class="pscw-customize-add-item-table-button pscw-customize-add-item-table-action__remove">&#x2212;</div>'),a=e(`<input type="number" name="${this.id||""}" id="${this.id||""}" value="${this.value}" min="0">`);return this.onChange&&a.on("change",this.onChange),this.onInput&&a.on("input",this.onInput),t.append(a),t.append(s),t.append(i),t}createFourDimensional(){const t=this;let s=e(`<div class="pscw-customize-4-dimensional" id="${this.id||""}"></div>`),i=[r.top,r.right,r.bottom,r.left];if(this.value.length>0){let t=0;for(const a of this.value)s.append(e(`<div><input type="number" value="${a}"><span>${i[t]}</span></div>`)),t++}const a=()=>{let t=[];return s.find('input[type="number"]').each((function(){t.push(e(this).val())})),t};return s.append(e(`<span class="dashicons dashicons-admin-links" title="${r.link_values_together}"></span>`)),s.on("input",'input[type="number"]',(function(){s.find(".dashicons-admin-links").hasClass("pscw-link-values-together")&&s.find('input[type="number"]').val(e(this).val()),t.onChange&&t.onChange(a())})),s.on("click",".dashicons-admin-links",(function(){if(e(this).toggleClass("pscw-link-values-together"),e(this).hasClass("pscw-link-values-together")){let e=s.find('div:first-child input[type="number"]').val();s.find('div:not(:first-child) input[type="number"]').val(e),t.onChange&&t.onChange(a())}})),s}createRadio(){let t=e(`<div class="pscw-customize-radio-container" id="${this.id||""}"></div>`);if(this.choices)for(const s in this.choices)"column"===s||"both"===s?t.append(e(`<div class="pscw-customize-radio-item">\n                                               <label>${this.choices[s]}</label>${VicPscwParams.upgrade_button}</div>`)):t.append(e(`<div class="pscw-customize-radio-item">\n                        <input type="radio" name="${this.id||""}" id="${this.id+"-"+s}" value="${s}" ${s===this.value?"checked":""}>\n                        <label for="${this.id+"-"+s}">${this.choices[s]}</label>\n                        </div>`));return this.onInput&&t.find(`input[name="${this.id}"]`).on("input",this.onInput),t}createBtnUpload(){let t=e('<div class="pscw-customize-btn-upload-container"></div>'),s=e(`<div class="pscw-customize-btn-import">${this.value.import}</div>`),i=e(`<div class="pscw-customize-btn-export"><span>${this.value.export}</span>${VicPscwParams.upgrade_button}</div>`),a=e(`<a href="${VicPscwParams.sampleDataLink}" class="pscw-customize-btn-csv-sample-data" title="${this.value.sample}" download><span class="dashicons dashicons-media-spreadsheet"></span></a>`),n=e('<input type="file" hidden>');return t.append(n),t.append(s),t.append(i),t.append(a),s.on("click",(function(){n.trigger("click")})),this.onChange&&n.on("change",this.onChange),t}createTemplateColor(){let t=[],s=e(`<div class="pscw-customize-template-color-container" id="${this.id||""}"></div>`);for(const e in this.choices){let s=this.choices[e];t.push(`<div class="pscw-customize-template-color-item" data-color="${e}" style="background: ${s.header}"></div>`)}return s.append(t.join("")),this.onClick&&s.on("click",this.onClick),s}renderLayoutItem(e,t){if(!t[e])return"";let s=t[e],i=[];switch(s.type){case"row":let e=[];for(const i of s.children)e.push(this.renderLayoutItem(i,t));i.push(`\n                    <div class="pscw-customize-row" id="${s.id}">\n                        <span class="pscw-customize-row-remove">&#x2715;</span>\n                        ${e.join("")}\n                    </div>`);break;case"column":let a=[];for(const e of s.children)a.push(this.renderLayoutItem(e,t));i.push(`\n                    <div class="pscw-customize-col ${s.settings.class}" id="${s.id}">\n                        <div class="pscw-customize-list-component pscw-connectedSortable">${a.join("")}</div>\n                        <div class="pscw-customize-open-tab-component">&#65291;</div>\n                    </div>`);break;case"table":case"text":case"image":i.push(`\n                    <div class="pscw-customize-component" id="${s.id}">\n                         ${s.type.charAt(0).toUpperCase()+s.type.slice(1)}\n                         <div class="pscw-customize-component-action pscw-customize-component-action__edit">&#9998;</div>\n                         <div class="pscw-customize-component-action pscw-customize-component-action__remove">&#x2715;</div>\n                    </div>\n                    `)}return i.join("")}}d.previewer.bind("pscw-input-table-change",(function(e){e&&d("woo_sc_setting[cus_design]").set(!d("woo_sc_setting[cus_design]").get())})),d.previewer.bind("pscw-preview-get-data-table",(function(e){e&&d.previewer.send("pscw-setting-send-data-table",o[e])})),ViPscw.CustomizeSettings={init(){this.selectedCol=null,this.selectedEditEle=null,this.back=null,this.selectedContainerType="container",this.borderOptions={solid:"Solid",dotted:"Dotted",dashed:"Dashed",double:"Double",groove:"Groove",ridge:"Ridge",inset:"Inset",outset:"Outset"},this.templateColors={grey:{header:"#F6F6F6",even:"#FFFFFF",odd:"#F6F6F6",textHeader:"#000000",border:"#F6F6F6",headerTextBold:!0},red:{header:"#BD171B",even:"#FAF6F6",odd:"#FFF0F0",textHeader:"#ffffff",border:"#BD171B",headerTextBold:!0},orange:{header:"#FF801F",even:"#FFF9F4",odd:"#FFF2E8",textHeader:"#ffffff",border:"#FF801F",headerTextBold:!0},blue:{header:"#70B5D5",even:"#F0FAFF",odd:"#DCF4FF",border:"#70B5D5"},black:{header:"#323232",even:"#F8F8F8",odd:"#EAEAEA",textHeader:"#ffffff",border:"#323232",headerTextBold:!0},brightCyan:{header:"#00D1D1",even:"#F2FFFF",odd:"#E5FFFF",border:"#00D1D1",headerTextBold:!0},amberYellow:{header:"#FFCA0A",even:"#FFFCF2",odd:"#FFF9E3",border:"#FFCA0A",headerTextBold:!0},green:{header:"#41B729",even:"#F2FFEF",odd:"#E1FBDB",border:"#41B729",headerTextBold:!0},tealBlue:{header:"#18889D",even:"#E7FBFF",odd:"#D2F3FA",border:"#18889D",headerTextBold:!0},seaweedGreen:{header:"#456E68",even:"#EAFBF8",odd:"#D2F1ED",textHeader:"#ffffff",border:"#456E68",headerTextBold:!0},pastelPink:{header:"#F3A5AD",even:"#FFFCFC",odd:"#FFF0F0",textHeader:"#ffffff",border:"#F3A5AD",headerTextBold:!0},skyBlue:{header:"#1B90FF",even:"#F3F9FF",odd:"#EAF5FF",textHeader:"#ffffff",border:"#1B90FF",headerTextBold:!0},lavenderPurple:{header:"#8D72FF",even:"#F9F8FF",odd:"#F3F0FF",textHeader:"#ffffff",border:"#8D72FF",headerTextBold:!0},electricPink:{header:"#FF32F9",even:"#FFF6FF",odd:"#FFEEFF",textHeader:"#ffffff",border:"#FF32F9",headerTextBold:!0}},this.pscwId=null,this.load(),this.handleDesign(),this.handleImage(),this.handleTextEditor(),this.handleTable(),this.handleOpenEditPanel(),e(".customize-section-back").on("click",{self:this},this.sectionBack),e("#save").on("click",this.save.bind(this))},handleOpenEditPanel(){const e=this;d.previewer.bind("pscw-preview-open-edit-panel",(function(t){if(t.id){if(e.selectedEditEle){if(e.selectedEditEle.id===t.id)return;e.selectedEditEle.type===o[t.id].type&&d.section(`pscw_customizer_${e.selectedEditEle.type}`).expanded(!1)}t.parentId?e.back=o[t.parentId]:e.back=null,e.selectedEditEle=o[t.id],e.handleDataForOpenEditComponent(!1)}}))},save(t){const s=this.pscwId;s&&(d.previewer.send("pscw-scan-data-table",!0),d.previewer.bind("pscw-scaned-data-table",(function(t){for(const e in t)o[e].columns=t[e].columns,o[e].rows=t[e].rows;let i={action:"pscw_save_size_chart_data",nonce:VicPscwParams.nonce,value:JSON.stringify({layout:l,elementsById:o}),pscwId:s,pscwData:JSON.stringify(c)};e.ajax({url:VicPscwParams.ajaxUrl,type:"post",dataType:"json",data:i,beforeSend:function(){},success:function(e){e?.success&&console.log(e?.data)},error:function(e){console.log(e?.data)},complete:function(){}})})))},sectionBack(t){const s=t.data.self;let i=e(this).parent().parent().parent().prop("id").replace("sub-accordion-section-pscw_customizer_","");["text","image","table","design"].indexOf(i)>-1&&(s.transmitData("exitEditComponent",{id:s.selectedEditEle?.id},!1),d.section("pscw_customizer_design").expanded(!0),s.selectedEditEle=null,s.back=null),VicPscwParams.customizeMode||"design"!==i||(d.section("pscw_customizer_design").expanded(!1),d.panel("pscw_size_chart_customizer").expanded(!1))},load(){const t=this,s=new URL(window.location.href),i=new URLSearchParams(s.search),a=i.get("autofocus[panel]"),n=i.get("autofocus[section]");t.pscwId=i.get("pscw_id")||VicPscwParams.currentSizeChart,a&&d.panel(a).expanded(!0),n&&d.section(n).expanded(!0),e("#customize-outer-theme-controls").append(`\n            <ul class="customize-pane-child accordion-section-content accordion-section control-section control-section-outer" id="pscw-customize-component-panel">\n                <li class="customize-control">\n                    <div class="customize-section-title pscw-customize-component-panel-title">${r.select_component}\n                    <span class="pscw-customize-component-panel-close">&#x2715;</span></div>\n                    <div class="pscw-customize-component-panel-list">\n                        <div class="pscw-customize-component-panel-item" data-component="image">\n                            <span class="dashicons dashicons-cover-image"></span>\n                            ${r.image}\n                        </div>\n                        <div class="pscw-customize-component-panel-item" data-component="table">\n                            <span class="dashicons dashicons-editor-table"></span>\n                            ${r.table}\n                        </div>\n                        <div class="pscw-customize-component-panel-item" data-component="text">\n                            <span class="dashicons dashicons-text"></span>\n                            ${r.text}\n                        </div>\n                        <div class="pscw-upgrade-component-panel-item">\n                            <span class="dashicons dashicons-table-row-after"></span>\n                            ${r.tab}\n                            ${VicPscwParams.upgrade_button}\n                        </div>\n                        <div class="pscw-upgrade-component-panel-item">\n                            <span class="dashicons dashicons-table-row-after"></span>\n                            ${r.accordion}\n                            ${VicPscwParams.upgrade_button}\n                        </div>\n                        <div class="pscw-upgrade-component-panel-item" >\n                            <span class="dashicons dashicons-table-row-after"></span>\n                            ${r.divider}\n                            ${VicPscwParams.upgrade_button}\n                        </div>\n                    </div>\n                </li>\n            </ul>\n            `),d.previewer.bind("pscw-get-elements",(function(e){t.pscwId&&d.previewer.send("pscw-receive-elements",o)})),e("#accordion-panel-pscw_size_chart_customizer").on("click",(function(e){d.section("pscw_customizer_design").expanded(!0),d.previewer.send("pscw-open-popup",!0)}))},handleDesign(){let t=new p({label:r.select_size_chart,type:"select",id:"pscw-select-size-chart",value:VicPscwParams.currentSizeChart,choices:VicPscwParams.sizeCharts,onChange:function(t){let s=e(this).val();const i=new URL(window.location.href);i.searchParams.set("pscw_id",s),window.location.href=i.toString()}}),n=new p({label:r.size_chart_title,type:"input",id:"pscw-size-chart-title",value:VicPscwParams.scTitle,onInput:function(t){c.title=e(this).val(),ViPscw.CustomizeSettings.transmitData("","",!0)}}),l=new p({label:r.select_country,type:"upgrade"}),o=new p({label:r.layout,value:{children:s?.layout?.children,elementsById:s?.elementsById},type:"layout"}),d=new p({label:r.all_product,type:"checkbox",id:"pscw-asign-all-product",value:i.all_products,onChange:function(t){c.all_products=e(this).prop("checked")?1:"",ViPscw.CustomizeSettings.transmitData("","",!0)}}),u=[];Object.keys(a).length&&e.each(a,(function(t,s){let i="pscw-assign-all-product-class pscw-assign-"+t,a="include_"+t,n={class_el:"pscw-option-select2",class_wrap:i+" pscw-assign-include"};s?.is_pro?u.push(new p({label:s?.inc_title,type:"upgrade",id:"pscw-assign-include_"+t,value:n})):(n.placeholder_select2=s?.placeholder,n.type_select2=t,s?.all_data&&(n.defaultValues=Object.entries(s.all_data)),u.push(new p({label:s?.inc_title,type:"search",id:"pscw-assign-include_"+t,value:e.extend({assignValues:c[a]||[]},n),onChange:function(t){c[a]=e(this).val(),ViPscw.CustomizeSettings.transmitData("","",!0)}}))),n.class_wrap=i+" pscw-assign-exclude",u.push(new p({label:s?.exc_title,type:"upgrade",id:"pscw-assign-exclude_"+t,value:n}))}));const h=e("#sub-accordion-section-pscw_customizer_design");if(h.append(t.render()),h.append(n.render()),h.append(o.render()),h.append(l.render()),h.append(d.render()),u.length)for(let e of u)h.append(e.render());e(document.body).on("click",".pscw-customize-row-list-cols",{self:this},this.addRow),e(document.body).on("click",".pscw-customize-row-remove",{self:this},this.removeRow),e(document.body).on("click",".pscw-customize-open-tab-component",{self:this},this.openComponentPanel),e(document.body).on("click",".pscw-customize-component-action__remove",{self:this},this.removeComponent),e(document.body).on("click",".pscw-customize-component-action__edit",{self:this},this.openEditComponent),e(document.body).on("click",".pscw-customize-component-panel-close",{self:this},this.closeComponentPanel),e(document.body).on("click","#publish-settings",{self:this},this.refreshComponentPanel),e(document.body).on("click",".pscw-customize-component-panel-item",{self:this},this.addComponent),this.handleSortAble(),this.changeComponentStatus(),e(".pscw-option-select2:not(.pscw-option-select2-init)").each((function(){let t=e(this),s=t.data("placeholder_select2"),i="";if("products"===t.data("type_select2"))i="pscw_search_product";t.addClass("pscw-option-select2-init").select2(function(e,t,s,i){let a={closeOnSelect:s,placeholder:e,cache:!0};t&&(a.minimumInputLength=i,a.escapeMarkup=function(e){return e},a.ajax={url:VicPscwParams.ajaxUrl,dataType:"json",type:"GET",quietMillis:50,delay:250,data:function(e){return{key_search:e.term,action:t,nonce:VicPscwParams.nonce}},processResults:function(e){return{results:e}},cache:!1});return a}(s,i,!1,2))})),e(".pscw-assign-all-product-class").showsOn("#customize-input-pscw-asign-all-product","checked",!0)},handleImage(){const t=this,s=e("#sub-accordion-section-pscw_customizer_image");d.section("pscw_customizer_image",(function(e){e.expanded.bind((function(e){if(e&&null!==t.selectedEditEle){let e={label:r.upload_image,id:"pscw-upload-image",type:"uploadImage",value:{src:t.selectedEditEle?.src,alt:t.selectedEditEle?.alt}},i=new p(e),a={label:r.width,id:"pscw-image-width",type:"rangeSlider",value:{data:{unit:t.selectedEditEle?.widthUnit||"%",value:t.selectedEditEle?.width||100},unit:{px:{name:"px",min:0,max:1e3,step:1},"%":{name:"%",min:0,max:100,step:1},em:{name:"em",min:0,max:10,step:.1},rem:{name:"rem",min:0,max:10,step:.1},vw:{name:"vw",min:0,max:100,step:1}}}},n=new p(a),c=new p({label:r.height,type:"upgrade"}),l=new p({label:r.border_style,type:"upgrade"}),d=new p({label:r.border_style,type:"upgrade"}),u=new p({label:r.border_color,type:"upgrade"}),h=new p({label:r.padding,value:t.selectedEditEle.margin||[0,0,0,0],type:"fourDimensional",id:"pscw-padding-image",onChange:function(e){t.transmitData("changeImagePadding",{id:t.selectedEditEle?.id,padding:e}),o[t.selectedEditEle.id].padding=e}}),m=new p({label:r.margin,value:t.selectedEditEle.margin||[0,0,0,0],type:"fourDimensional",id:"pscw-margin-image",onChange:function(e){t.transmitData("changeImageMargin",{id:t.selectedEditEle?.id,margin:e}),o[t.selectedEditEle.id].margin=e}}),w=new p({label:r.object_fit,type:"upgrade"});s.append(i.render()),t.handleUploadImage(e,"uploadImage"),s.append(n.render()),t.handleRangeSlider(a,"changeImageWidth","width","widthUnit"),s.append(c.render()),s.append(h.render()),s.append(m.render()),s.append(w.render()),s.append(l.render()),s.append(d.render()),s.append(u.render())}else s.children().not(".customize-section-description-container").remove()}))}))},handleTextEditor(){const t=this,s=e("#sub-accordion-section-pscw_customizer_text");d.section("pscw_customizer_text",(function(e){e.expanded.bind((function(e){if(e&&null!==t.selectedEditEle){let e={label:r.text,id:"pscw-text-editor",type:"textEditor",value:t.selectedEditEle?.value},i=new p(e),a=new p({label:r.margin,value:t.selectedEditEle.margin||[0,0,0,0],type:"fourDimensional",id:"pscw-margin-accordion",onChange:function(e){t.transmitData("changeTextEditorMargin",{id:t.selectedEditEle?.id,margin:e}),o[t.selectedEditEle.id].margin=e}});s.append(i.render()),s.append(a.render()),void 0===wp.editor.getDefaultSettings&&(wp.editor.getDefaultSettings=function(){return tinymce.settings}),wp.editor.remove(e.id),wp.editor.initialize(e.id,{tinymce:{theme:"modern",skin:"lightgray",language:"en",formats:{alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"}},{selector:"img,table,dl.wp-caption",classes:"alignleft"}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"}},{selector:"img,table,dl.wp-caption",classes:"aligncenter"}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"}},{selector:"img,table,dl.wp-caption",classes:"alignright"}],strikethrough:{inline:"del"}},relative_urls:!1,remove_script_host:!1,convert_urls:!1,browser_spellcheck:!0,fix_list_elements:!0,entities:"38,amp,60,lt,62,gt",entity_encoding:"raw",keep_styles:!1,cache_suffix:"wp-mce-49110-20201110",resize:"vertical",menubar:!1,branding:!1,preview_styles:"font-family font-size font-weight font-style text-decoration text-transform",end_container_on_empty_block:!0,wpeditimage_html5_captions:!0,wp_lang_attr:"en-US",wp_keep_scroll_position:!1,wp_shortcut_labels:{"Heading 1":"access1","Heading 2":"access2","Heading 3":"access3","Heading 4":"access4","Heading 5":"access5","Heading 6":"access6",Paragraph:"access7",Blockquote:"accessQ",Underline:"metaU",Strikethrough:"accessD",Bold:"metaB",Italic:"metaI",Code:"accessX","Align center":"accessC","Align right":"accessR","Align left":"accessL",Justify:"accessJ",Cut:"metaX",Copy:"metaC",Paste:"metaV","Select all":"metaA",Undo:"metaZ",Redo:"metaY","Bullet list":"accessU","Numbered list":"accessO","Insert/edit image":"accessM","Insert/edit link":"metaK","Remove link":"accessS","Toolbar Toggle":"accessZ","Insert Read More tag":"accessT","Insert Page Break tag":"accessP","Distraction-free writing mode":"accessW","Add Media":"accessM","Keyboard Shortcuts":"accessH"},plugins:"charmap,colorpicker,hr,lists,media,paste,tabfocus,textcolor,wordpress,wpautoresize,wpeditimage,wpemoji,wpgallery,wplink,wpdialogs,wptextpattern,wpview",selector:"#pscw-text-editor",wpautop:!0,indent:!1,toolbar1:"formatselect,bold,italic,bullist,numlist,blockquote,alignleft,aligncenter,alignright,link,spellchecker,fullscreen,wp_adv",toolbar2:"strikethrough,hr,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo,wp_help",tabfocus_elements:":prev,:next",body_class:"excerpt post-type-product post-status-publish page-template-default locale-en-us",setup:function(e){e.on("input change",(function(s){t.transmitData("changeTextEditor",{id:t.selectedEditEle?.id,value:e.getContent()}),o[t.selectedEditEle?.id].value=e.getContent()}))}},mediaButtons:!0,quicktags:!0})}else s.children().not(".customize-section-description-container").remove()}))}))},handleTable(){const t=this,s=e("#sub-accordion-section-pscw_customizer_table");s.on("click","#customize-control-pscw-add-columns-table .pscw-customize-add-item-table-action__add",{self:this},this.addColumns),s.on("click","#customize-control-pscw-add-rows-table .pscw-customize-add-item-table-action__add",{self:this},this.addRows),s.on("click","#customize-control-pscw-add-columns-table .pscw-customize-add-item-table-action__remove",{self:this},this.removeColumns),s.on("click","#customize-control-pscw-add-rows-table .pscw-customize-add-item-table-action__remove",{self:this},this.removeRows),d.section("pscw_customizer_table",(function(i){i.expanded.bind((function(i){if(i&&null!==t.selectedEditEle){let i=new p({label:r.add_columns,type:"addItemTable",id:"pscw-add-columns-table",value:1,onInput:function(t){let s=e(this).val();(""===s||parseFloat(s)<0)&&e(this).val("")}}),a=new p({label:r.add_rows,type:"addItemTable",id:"pscw-add-rows-table",value:1,onInput:function(t){let s=e(this).val();(""===s||parseFloat(s)<0)&&e(this).val("")}}),n=new p({label:r.header_background,type:"colorPicker",value:t.selectedEditEle.headerBackground,id:"pscw-header-background-table",onChange:function(e,s){let i=s.color.toString();t.transmitData("changeHeaderBackground",{id:t.selectedEditEle?.id,headerColumn:t.selectedEditEle.headerColumn,headerBackground:i,evenBackground:t.selectedEditEle.evenBackground}),o[t.selectedEditEle.id].headerBackground=i}}),c=new p({label:r.text_header,type:"colorPicker",value:t.selectedEditEle.textHeader,id:"pscw-text-header-table",onChange:function(e,s){let i=s.color.toString();t.transmitData("changeTextHeader",{id:t.selectedEditEle?.id,headerColumn:t.selectedEditEle.headerColumn,textHeader:i}),o[t.selectedEditEle.id].textHeader=i}}),l=new p({label:r.header_text_bold,type:"checkbox",id:"pscw-header-text-bold-table",value:t.selectedEditEle.headerTextBold,onChange:function(s){let i=e(this).prop("checked");t.transmitData("changeHeaderTextBold",{id:t.selectedEditEle.id,headerColumn:t.selectedEditEle.headerColumn,headerTextBold:i}),o[t.selectedEditEle.id].headerTextBold=i}}),d=new p({label:r.header_text_size,type:"upgrade"}),u=new p({label:r.columns_style,type:"checkbox",id:"pscw-columns-style-table",value:t.selectedEditEle.columnsStyle,onChange:function(s){let i=e(this).prop("checked");t.transmitData("changeTableStyle",{id:t.selectedEditEle.id,columnsStyle:i,evenBackground:t.selectedEditEle.evenBackground,evenText:t.selectedEditEle.evenText,headerColumn:t.selectedEditEle.headerColumn,oddBackground:t.selectedEditEle.oddBackground,oddText:t.selectedEditEle.oddText}),o[t.selectedEditEle.id].columnsStyle=i}}),h=new p({label:r.even_background,type:"colorPicker",value:t.selectedEditEle.evenBackground,id:"pscw-even-background-table",onChange:function(e,s){let i=s.color.toString();t.transmitData("changeEvenBackground",{id:t.selectedEditEle?.id,columnsStyle:t.selectedEditEle.columnsStyle,evenBackground:i,headerColumn:t.selectedEditEle.headerColumn}),o[t.selectedEditEle.id].evenBackground=i}}),m=new p({label:r.even_text,type:"colorPicker",value:t.selectedEditEle.evenText,id:"pscw-even-text-table",onChange:function(e,s){let i=s.color.toString();t.transmitData("changeEvenText",{id:t.selectedEditEle?.id,columnsStyle:t.selectedEditEle.columnsStyle,evenText:i,headerColumn:t.selectedEditEle.headerColumn}),o[t.selectedEditEle.id].evenText=i}}),w=new p({label:r.odd_background,type:"colorPicker",value:t.selectedEditEle.oddBackground,id:"pscw-odd-background-table",onChange:function(e,s){let i=s.color.toString();t.transmitData("changeOddBackground",{id:t.selectedEditEle?.id,columnsStyle:t.selectedEditEle.columnsStyle,oddBackground:i,headerColumn:t.selectedEditEle.headerColumn}),o[t.selectedEditEle.id].oddBackground=i}}),g=new p({label:r.odd_text,type:"colorPicker",value:t.selectedEditEle?.oddText,id:"pscw-odd-text-table",onChange:function(e,s){let i=s.color.toString();t.transmitData("changeOddText",{id:t.selectedEditEle?.id,columnsStyle:t.selectedEditEle.columnsStyle,oddText:i,headerColumn:t.selectedEditEle.headerColumn}),o[t.selectedEditEle.id].oddText=i}}),v=new p({label:r.border_color,type:"colorPicker",value:t.selectedEditEle.borderColor,id:"pscw-border-color-table",onChange:function(e,s){let i=s.color.toString();t.transmitData("changeBorderColor",{id:t.selectedEditEle?.id,borderColor:i}),o[t.selectedEditEle.id].borderColor=i}}),b=new p({label:r.cell_text_size,type:"upgrade"}),f=new p({label:r.horizontal_border_width,type:"inputNumber",value:t.selectedEditEle.horizontalBorderWidth,id:"pscw-horizontal-border-width-table",onInput:function(s){let i=e(this).val();(""===i||parseFloat(i)<0)&&e(this).val(""),t.transmitData("changeBorderWidth",{id:t.selectedEditEle.id,horizontalBorderWidth:i,verticalBorderWidth:t.selectedEditEle.verticalBorderWidth}),o[t.selectedEditEle.id].horizontalBorderWidth=i}}),E=new p({label:r.horizontal_border_style,type:"select",id:"pscw-horizontal-border-style-table",value:t.selectedEditEle.horizontalBorderStyle,choices:t.borderOptions,onChange:function(s){let i=e(this).val();t.transmitData("changeTableBorderStyle",{id:t.selectedEditEle.id,horizontalBorderStyle:i,verticalBorderStyle:t.selectedEditEle.verticalBorderStyle}),o[t.selectedEditEle.id].horizontalBorderStyle=i}}),_=new p({label:r.vertical_border_width,type:"inputNumber",value:t.selectedEditEle.verticalBorderWidth,id:"pscw-vertical-border-width-table",onInput:function(s){let i=e(this).val();(""===i||parseFloat(i)<0)&&e(this).val(""),t.transmitData("changeBorderWidth",{id:t.selectedEditEle.id,horizontalBorderWidth:t.selectedEditEle.horizontalBorderWidth,verticalBorderWidth:i}),o[t.selectedEditEle.id].verticalBorderWidth=i}}),z=new p({label:r.vertical_border_style,type:"select",id:"pscw-vertical-border-style-table",value:t.selectedEditEle.verticalBorderStyle,choices:t.borderOptions,onChange:function(s){let i=e(this).val();t.transmitData("changeTableBorderStyle",{id:t.selectedEditEle.id,verticalBorderStyle:i,horizontalBorderStyle:t.selectedEditEle.horizontalBorderStyle}),o[t.selectedEditEle.id].verticalBorderStyle=i}}),y=new p({label:r.margin,value:t.selectedEditEle.margin||[0,0,0,0],type:"fourDimensional",id:"pscw-margin-table",onChange:function(e){t.transmitData("changeTableMargin",{id:t.selectedEditEle?.id,margin:e}),o[t.selectedEditEle.id].margin=e}}),C=new p({label:r.border_radius,value:t.selectedEditEle.borderRadius||[0,0,0,0],type:"fourDimensional",id:"pscw-border-radius-table",onChange:function(e){t.transmitData("changeTableBorderRadius",{id:t.selectedEditEle?.id,borderRadius:e}),o[t.selectedEditEle.id].borderRadius=e}}),x=new p({label:r.max_height_px,type:"upgrade"}),k=new p({label:r.header_table,type:"radio",value:"row",choices:{row:r.row_header,column:r.column_header,both:r.both_header},id:"pscw-table-header",onInput:function(e){t.transmitData("changeHeaderColumn",Object.assign({},t.selectedEditEle,{headerColumn:"row"})),o[t.selectedEditEle.id].headerColumn="row"}}),F=new p({label:r.template_color,type:"templateColor",value:"",choices:t.templateColors,id:"pscw-table-template-color",onClick:function(s){let i=t.templateColors[e(s.target).data("color")];i?.header&&e("#customize-color-picker-pscw-header-background-table").wpColorPicker("color",i?.header),i?.even&&e("#customize-color-picker-pscw-even-background-table").wpColorPicker("color",i?.even),i?.odd&&e("#customize-color-picker-pscw-odd-background-table").wpColorPicker("color",i?.odd),i?.textHeader&&e("#customize-color-picker-pscw-text-header-table").wpColorPicker("color",i?.textHeader),i?.border&&e("#customize-color-picker-pscw-border-color-table").wpColorPicker("color",i?.border),i?.headerTextBold&&e("#customize-input-pscw-header-text-bold-table").prop("checked",!0).trigger("change")}}),P=new p({type:"btnUpload",value:{import:r.import_csv,export:r.export_csv,sample:r.sample_csv},id:"pscw-table-import-csv",onChange:function(s){let i=this.files[0];if("csv"!==i.name.split(".").pop().toLowerCase())alert(r.required_file_csv);else{let s=new FileReader;s.readAsText(i),s.onload=function(s){let i=s.target.result.split("\n");if(i.length>0){confirm(r.confirm_replace_csv)?t.transmitData("importCSV",Object.assign({},t.selectedEditEle,{csv:i})):e(this).val("")}else alert(r.alert_csv_empty)}}}});s.append(F.render()),s.append(i.render()),s.append(a.render()),s.append(k.render()),s.append(n.render()),s.append(c.render()),s.append(l.render()),s.append(d.render()),s.append(u.render()),s.append(h.render()),s.append(m.render()),s.append(w.render()),s.append(g.render()),s.append(v.render()),s.append(b.render()),s.append(f.render()),s.append(E.render()),s.append(_.render()),s.append(z.render()),s.append(C.render()),s.append(y.render()),s.append(x.render()),s.append(P.render())}else s.children().not(".customize-section-description-container").remove(),t.selectedContainerType="container"}))}))},addColumns(t){const s=t.data.self;let i=e("#pscw-add-columns-table").val();s.transmitData("addColumns",Object.assign({},s.selectedEditEle,{columns:i}))},addRows(t){const s=t.data.self;let i=e("#pscw-add-rows-table").val();s.transmitData("addRows",Object.assign({},s.selectedEditEle,{rows:i}))},removeColumns(t){const s=t.data.self;let i=e("#pscw-add-columns-table").val();s.transmitData("removeColumns",{id:s.selectedEditEle.id,columns:i})},removeRows(t){const s=t.data.self;let i=e("#pscw-add-rows-table").val();s.transmitData("removeRows",{id:s.selectedEditEle.id,rows:i})},handleUploadImage(t,s){const i=this,a=e(`#${t?.id}`);let n=t?.value?.src,c=t?.value?.alt;a.on("click",(function(e){const t=a.find(".pscw-customize-image-wrap"),l=a.find(".pscw-customize-image"),d=a.find(".pscw-customize-image-url"),r=a.find(".pscw-customize-image-alt");switch(e.target.classList[0]){case"pscw-customize-image-wrap":case"pscw-customize-image":let e=wp.media({title:"Choose Image",button:{text:"Select"},multiple:!1});e.on("select",(function(){let a=e.state().get("selection").first().toJSON();0>a.url.trim().length||(t.addClass("remove"),l.attr("src",a.url),d.val(a.url),r.val(a.alt),n=a.url,c=a.alt,i.transmitData(s,{id:i.selectedEditEle?.id,value:{url:a.url,alt:a.alt}}),o[i.selectedEditEle.id].src=n,o[i.selectedEditEle.id].alt=c)})),e.open();break;case"pscw-customize-image-remove":t.removeClass("remove"),l.attr("src",VicPscwParams.placeholderImage),l.attr("alt",""),d.val(""),r.val(""),n=VicPscwParams.placeholderImage,c="",i.transmitData(s,{id:i.selectedEditEle?.id,value:{url:VicPscwParams.placeholderImage,alt:""}}),o[i.selectedEditEle.id].src=n,o[i.selectedEditEle.id].alt=c}})),a.on("input",".pscw-customize-image-url",(function(){let t=e(this).val();n=t,a.find(".pscw-customize-image").attr("src",t),i.transmitData(s,{id:i.selectedEditEle?.id,value:{url:t,alt:c}}),o[i.selectedEditEle.id].src=n,o[i.selectedEditEle.id].alt=c})),a.on("input",".pscw-customize-image-alt",(function(){let t=e(this).val();c=t,a.find(".pscw-customize-image").attr("alt",t),i.transmitData(s,{id:i.selectedEditEle?.id,value:{url:n,alt:t}}),o[i.selectedEditEle.id].src=n,o[i.selectedEditEle.id].alt=c}))},handleRangeSlider(t,s,i,a){const n=this,c=(t,s,i,a)=>{t.off("change"),t.on("change",(function(){let t=parseInt(e(this).val()||0);t>parseInt(i)?t=i:t<parseInt(s)&&(t=s),a.range("set value",t)}))};let l=e(`#customize-control-${t.id}`),d=l.find(".pscw-customize-range"),r=l.find(".pscw-customize-range1"),p=d.find(".pscw-customize-range-value"),u=d.find(".pscw-customize-unit"),h=t?.value?.data?.unit,m=t?.value?.unit[h]?.min||0,w=t?.value?.unit[h]?.max||0,g=t?.value?.data?.value||0,v=t?.value?.unit[h]?.step||1,b=0,f=g,E=h;r.range({min:m,max:w,start:g,step:v,input:p,onChange:function(e){if(b>0){f=e;let t={};t.id=n.selectedEditEle?.id,t[i]=f,t[a]=E,n.transmitData(s,t),o[n.selectedEditEle?.id][i]=f,o[n.selectedEditEle?.id][a]=E}b=1}}),u.on("change",(function(){let t=e(this).find("option:selected"),l=t.data("value");E=t.text(),r.range({min:l[0],start:l[0],step:l[1],max:l[2],input:p,onChange:function(e){f=e;let t={};t.id=n.selectedEditEle?.id,t[i]=f,t[a]=E,n.transmitData(s,t),o[n.selectedEditEle?.id][i]=f,o[n.selectedEditEle?.id][a]=E}}),c(p,l[0],l[2],r)})),c(p,m,w,r)},handleSortAble(){const t=this;let s=-1,i=-1,a=!1,n="",c="";e(".pscw-customize-list-component").sortable({connectWith:".pscw-connectedSortable",placeholder:"pscw-customize-component-place-holder",start:function(t,i){n=i.item.closest(".pscw-customize-col").attr("id"),s=e(`#${n} .pscw-customize-list-component .pscw-customize-component`).index(i.item)},receive:function(){a=!0},stop:function(l,d){const r=d.item,p=r[0].id;c=r.closest(".pscw-customize-col").attr("id"),i=e(`#${c} .pscw-customize-list-component .pscw-customize-component`).index(d.item);let u={},h=o[n].children[s],m=o[c].children[i];if(!0===a)if(r.prev().length>0){let e=r.prev(),t=o[c].children.indexOf(e.attr("id"));-1!==t&&o[c].children.splice(t+1,0,p);let s=o[o[p].parent].children.indexOf(p);-1!==s&&o[o[p].parent].children.splice(s,1),o[p].parent=c,u={func:"after",targetId:e.attr("id"),id:p}}else if(r.next().length>0){let e=r.next(),t=o[c].children.indexOf(e.attr("id"));-1!==t&&o[c].children.splice(t,0,p);let s=o[o[p].parent].children.indexOf(p);-1!==s&&o[o[p].parent].children.splice(s,1),o[p].parent=c,u={func:"before",targetId:e.attr("id"),id:p}}else{let e=o[o[p].parent].children.indexOf(p);-1!==e&&o[o[p].parent].children.splice(e,1),o[p].parent=c,o[c].children=[p],u={func:"append",targetId:c,id:p}}else s>i?(o[n].children.splice(s,1),o[n].children.splice(i,0,h),u={func:"before",targetId:m,id:p}):(s+1===i?(o[n].children.splice(s,1,m),o[n].children.splice(i,1,h)):(o[n].children.splice(s,1),o[n].children.splice(i,0,h)),u={func:"after",targetId:m,id:p});a=!1,n="",c="",s=-1,i=-1,t.transmitData("updateRow",u)}}).disableSelection()},addRow(t){const s=t.data.self,i="pscw-row-"+pscwGenerateID();let a=[],n=[],c=[12],d={},r="pscw-col-"+pscwGenerateID(),p={id:r,class:`pscw-col-l-${c[0]}`,type:"column",parent:i,children:[],settings:{class:`pscw-customize-col-${c[0]}`}};o[r]=p,d[r]=p,n.push(r),a.push(`<div class="pscw-customize-col pscw-customize-col-${c[0]}" id="${r}">\n                <div class="pscw-customize-list-component pscw-connectedSortable">\n                </div>\n                <div class="pscw-customize-open-tab-component">&#65291;</div>\n                </div>`),e(".pscw-customize-container").append(`<div class="pscw-customize-row" id="${i}"><span class="pscw-customize-row-remove">&#x2715;</span>${a.join("")}</div>`),l.children.push(i),o[i]={children:n,id:i,type:"row"},s.handleSortAble(),s.transmitData("addRow",{id:i,type:"row",containerType:s.selectedContainerType,containerId:"",colsData:d})},removeRow(t){const s=t.data.self;let i=e(this).parent().attr("id"),a=s.getIdDescendantElements(i,o),n="";n=l.children.indexOf(i),l.children.splice(n,1);for(const e of a)delete o[e];delete o[i],e(this).parent().remove(),s.transmitData("removeRow",{id:i})},transmitData(e,t,s=!0){s&&d("woo_sc_setting[cus_design]").set(!d("woo_sc_setting[cus_design]").get()),e.length>0&&d.previewer.send("pscw_change_value",{action:e,data:t})},openComponentPanel(t){const s=t.data.self;null!==s.selectedCol&&s.selectedCol.removeClass("selected"),s.selectedCol=e(this).parent(),s.selectedCol.addClass("selected"),e(document.body).addClass("outer-section-open"),e("#pscw-customize-component-panel").addClass("open")},closeComponentPanel(t){const s=t.data.self;s.selectedCol&&(s.selectedCol.removeClass("selected"),s.selectedCol=null),e(document.body).removeClass("outer-section-open"),e("#pscw-customize-component-panel").removeClass("open")},refreshComponentPanel(t){const s=t.data.self;e("#pscw-customize-component-panel").removeClass("open"),s.selectedCol&&(s.selectedCol.removeClass("selected"),s.selectedCol=null)},addComponent(t){const s=t.data.self;if(null!==s.selectedCol){let t=e(this).data("component"),i=`pscw-${t}-${pscwGenerateID()}`,a=e(s.selectedCol).attr("id"),n=[];for(const e in o){if(t===o[e].type)return}let c={image:{alt:"",borderColor:"#000000",borderStyle:"solid",borderWidth:0,height:100,heightUnit:"%",width:100,widthUnit:"%",src:VicPscwParams.placeholderImage,padding:[0,0,0,0],margin:[0,0,0,0],objectFit:"unset"},table:{columns:[""],rows:[[""]],headerColumn:"row",headerBackground:"#ffffff",textHeader:"#000000",headerTextBold:!0,headerTextSize:14,columnsStyle:!1,evenBackground:"#ffffff",evenText:"#494949",oddBackground:"#ffffff",oddText:"#494949",borderColor:"#9D9D9D",cellTextSize:14,horizontalBorderWidth:1,horizontalBorderStyle:"solid",verticalBorderWidth:1,verticalBorderStyle:"solid",margin:[0,0,0,0],borderRadius:[0,0,0,0],tableMaxHeight:535},text:{value:r.add_your_text,margin:[0,0,0,0]}};if(!c[t])return;o[i]=Object.assign({},{id:i,type:t,parent:a},c[t]),ViPscw.CustomizeSettings.changeComponentStatus(),n.length>0&&(c[t].subData=n);let l=`<div class="pscw-customize-component" id="${i}">\n                         ${t.charAt(0).toUpperCase()+t.slice(1)}\n                         <div class="pscw-customize-component-action pscw-customize-component-action__edit">&#9998;</div>\n                         <div class="pscw-customize-component-action pscw-customize-component-action__remove">&#x2715;</div>\n                    </div>`;e(s.selectedCol).find(".pscw-customize-list-component").append(l),s.transmitData("addComponent",Object.assign({},{id:i,type:t,parent:a},c[t])),o[a].children.push(i),s.selectedCol.removeClass("selected"),s.selectedCol=null,e(document.body).removeClass("outer-section-open"),e("#pscw-customize-component-panel").removeClass("open")}},getIdDescendantElements(e,t){const s=this;if(void 0===t[e])return"";const i=t[e];let a=[],n=[];switch(i.type){case"row":case"column":for(const e of i.children)a.push(e),n.push(...s.getIdDescendantElements(e,t));n.length>0&&a.push(...n)}return a},removeComponent(t){t.stopPropagation();const s=t.data.self;let i=e(this).parent(),a=i.attr("id"),n=o[a].parent,c=o[n].children.indexOf(a);if(-1!==c){let e=s.getIdDescendantElements(a,o);o[n].children.splice(c,1);for(const t of e)delete o[t];s.transmitData("removeComponent",{id:a}),i.remove(),delete o[a]}ViPscw.CustomizeSettings.changeComponentStatus()},openEditComponent(t){t.stopPropagation();const s=t.data.self;let i=e(this).parent().attr("id");s.selectedEditEle=o[i],s.handleDataForOpenEditComponent()},handleDataForOpenEditComponent(e=!0){const t=this;switch(e&&t.transmitData("editComponent",{id:t.selectedEditEle.id,containerType:t.selectedContainerType},!1),t.selectedEditEle?.type){case"divider":d.section("pscw_customizer_divider").expanded(!0);break;case"accordion":d.section("pscw_customizer_accordion").expanded(!0);break;case"tab":d.section("pscw_customizer_tab").expanded(!0);break;case"text":d.section("pscw_customizer_text").expanded(!0);break;case"table":d.section("pscw_customizer_table").expanded(!0);break;case"image":d.section("pscw_customizer_image").expanded(!0)}},changeComponentStatus(){const t=Object.values(o).map((e=>e.type));e(".pscw-customize-component-panel-item").each((function(){const s=e(this).data("component");t.includes(s)?e(this).addClass("pscw-disabled"):e(this).removeClass("pscw-disabled")}))}},ViPscw.CustomizeSettings.init()}));